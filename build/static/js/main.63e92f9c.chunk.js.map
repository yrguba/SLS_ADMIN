{"version":3,"sources":["constants.js","service/index.js","private.js","pages/login/duck/reducer.js","pages/login/duck/types.js","pages/users/duck/reducer.js","pages/users/duck/types.js","pages/statistic/duck/reducer.js","pages/statistic/duck/types.js","pages/devices/duck/reducer.js","pages/devices/duck/types.js","pages/watches/duck/reducer.js","pages/watches/duck/types.js","store/root-reducer.js","store/index.js","pages/login/login.view.js","pages/login/index.js","pages/login/duck/actions.js","components/wrapper/index.js","pages/users/columns.js","pages/users/users.view.js","service/axiosCustom.js","pages/users/duck/actions.js","pages/devices/duck/actions.js","pages/users/index.js","pages/statistic/charts.view.js","pages/statistic/columns.js","pages/statistic/dates.view.js","pages/statistic/statistic.view.js","pages/statistic/index.js","pages/statistic/duck/actions.js","pages/devices/columns.js","pages/devices/components/category.form.view.js","pages/devices/components/category.modal.view.js","pages/devices/components/device.form.view.js","pages/devices/components/device.modal.view.js","pages/devices/devices.view.js","pages/devices/index.js","pages/watches/watches.view.js","helpers.js","pages/watches/duck/actions.js","pages/watches/index.js","index.js"],"names":["API_HOST","process","API_URL","API_WATCH_URL","SECRET","JSON","parse","client_secret","grant_type","client_id","cookies","Cookies","_refreshToken","refreshToken","get","path","domain","window","location","hostname","refreshData","Object","assign","refresh_token","axios","post","stringify","then","console","debug","catch","error","response","data","logOut","remove","href","_getClient","localStorage","getItem","_isLoggedIn","accessToken","expireDate","Math","floor","Date","now","_getAccessToken","PrivateRoute","Component","component","rest","isLoggedIn","render","props","to","pathname","state","from","initialState","access_token","expires_in","loginReducer","action","type","payload","users","usersReducer","pagination","statistic","statisticReducer","categories","devices","devicesReducer","watches","watchesReducer","watch_users","reset_status","send_status","bind_status","unbind_status","remove_status","watches_online","watches_created","child_created","delete_child_status","delete_user_status","rootReducer","history","combineReducers","router","connectRouter","login","createBrowserHistory","store","createStore","applyMiddleware","thunk","Title","Typography","LoginView","useState","loginError","setLoginError","useEffect","isLogged","push","className","src","onFinish","values","email","getTokens","username","password","setItem","level","style","marginTop","Item","name","label","rules","required","message","size","Password","onInput","event","currentValue","target","value","length","hasUnicodeSymbols","split","some","valueSymbol","index","charCodeAt","htmlType","connect","tokens","expiresIn","set","_setTokens","dispatch","authData","headers","getTokenSuccess","regularTabs","title","icon","TeamOutlined","LineChartOutlined","RocketOutlined","ClockCircleOutlined","rungoTabs","currentTabs","Wrapper","map","tab","match","url","marginLeft","onClick","LogoutOutlined","padding","minHeight","children","columns","dataIndex","key","Meta","Card","UsersView","usersList","setUsersList","userDevices","page","paginationState","setPaginationState","queryEmailString","setQueryEmailString","loading","setLoading","userDevicesModalVisible","setUserDevicesModalVisible","getUsers","getDevices","usersTemp","forEach","user","id","home_device_counts","count","getUserDevices","showUsersDeviceModal","hideUsersDeviceModal","tabActive","width","placeholder","actions","EyeOutlined","EditOutlined","DeleteOutlined","avatar","active","description","device","home_title","device_count","moment","created_at","format","total_count","current","onChange","total","visible","onCancel","footer","dataSource","http","create","interceptors","use","undefined","status","request","config","Promise","reject","token","Authorization","Accept","getUsersSuccess","paging","getUsersFailed","queryData","email_like","ChartJS","register","ArcElement","Tooltip","Legend","CategoryScale","LinearScale","BarElement","Charts","randomRgba","o","round","r","random","labels","datasets","backgroundColor","borderWidth","setData","dataArray","find","item","category","color","display","alignItems","justifyContent","marginBottom","columnsProducts","alt","Option","Select","RangePicker","DatePicker","DatesView","setDates","startOf","dateRange","interval","setInterval","setDevices","allDevices","setAllDevices","generateDevicesList","items","currentDevices","currentDates","date","includes","Array","reverse","dates","_getDateInterval","filteredItems","filter","dateFrom","unix","dateTo","currentInterval","intervalDefault","subtract","endOf","onSelect","range","StatisticView","selectedPage","setSelectedPage","setDataSource","getStatistic","devices_by_product","dataSourceTemp","product","t_product_id","category_id","defaultSelectedKeys","selectedKeys","mode","users_count","homes_count","devices_count","devicesColumns","setDeviceData","categoriesColumns","setCategoryData","CategoryFormView","form","fields","field","CategoryModalView","categoryData","createCategoryModalVisible","hideCreateCategoryModal","createCategory","categoryFields","edit","setFieldsValue","resetFields","DeviceFormView","getDevicesCategories","log","showSearch","DeviceModalView","deviceData","createDeviceModalVisible","hideCreateDeviceModal","createDevice","updateDevice","deviceFields","DevicesView","Form","useForm","setCreateCategoryModalVisible","setCreateDeviceModalVisible","currentDeviceId","setCurrentDeviceId","selectedSection","setSelectedSection","showCreateCategoryModal","showCreateDeviceModal","t_product_name","validateFields","getFieldsValue","patch","Search","Input","WatchesView","hash","sendMessageForm","bindWatchForm","createWatchForm","createChildForm","currentUser","setCurrentUser","currentChild","setCurrentChild","currentWatch","setCurrentWatch","resetPasswordModalVisible","setResetPasswordModalVisible","bindWatchModalVisible","setBindWatchModalVisible","unbindWatchModalVisible","setUnbindWatchModalVisible","removeWatchModalVisible","setRemoveWatchModalVisible","sendMessageModalVisible","setSendMessageModalVisible","createWatchModalVisible","setCreateWatchModalVisible","createChildModalVisible","setCreateChildModalVisible","removeChildModalVisible","setRemoveChildModalVisible","removeUserModalVisible","setRemoveUserModalVisible","like","paginationWatchState","setPaginationWatchState","success","clearState","getWatches","reg_code","getWatchesOnline","meta","totalItems","margin","first_name","getUserName","position","child","watch","defaultCurrent","defaultPageSize","onSearch","allowClear","is_online","resetPassword","danger","mailData","sendMailToUser","subject","TextArea","regCode","getFieldValue","bindWatch","code","regCodeCharArray","join","cutRegCode","unbindWatch","removeWatch","watchData","createWatch","childData","createChild","deleteChild","deleteUser","getWatchesSuccess","getWatchesFailed","limit","child_id","delete","createWatchSuccess","parentId","createChildSuccess","locale","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.63e92f9c.chunk.js","sourcesContent":["export const API_HOST = process.env.API_HOST || \"https://api.fasthome.io\";\nexport const API_URL = process.env.API_URL || \"https://api.fasthome.io/api/v1.1\";\nexport const API_WATCH_URL = process.env.API_URL || \"https://watch-kit.fasthome.io/api\";\nexport const ADMIN_URL = process.env.API_URL || \"https://admin.fasthome.io\";\nexport const SECRET = JSON.parse(process.env.REACT_APP_SECRET) || {\n    client_secret: \"h1Ualk42DmMioIAYQhxXaTqKPvRrxgwNaIicAcpi\",\n    grant_type: \"password\",\n    client_id: 5\n}\n","import axios from \"axios\";\nimport Cookies from 'universal-cookie';\nimport { API_HOST, SECRET } from \"../constants\";\n\nconst cookies = new Cookies();\n\nexport const _getRefreshToken = () => {\n    return cookies.get('refresh_token', { path: '/', domain: window.location.hostname });\n};\n\nexport const _refreshToken = () => {\n    const refreshToken = _getRefreshToken();\n    if (refreshToken) {\n        const refreshData = Object.assign({ refresh_token: refreshToken }, SECRET);\n        axios.post(`${API_HOST}/oauth/token`, JSON.stringify(refreshData))\n            .then(() => {\n                console.debug('token was refreshed');\n            })\n            .catch((error) => {\n                console.error(error.response.data);\n            });\n    }\n};\n\nexport const _removeTokens = () => {\n    cookies.remove('access_token', { path: '/', domain: window.location.hostname });\n    cookies.remove('refresh_token', { path: '/', domain: window.location.hostname });\n};\n\nexport const logOut = () => {\n    _removeTokens();\n    window.location.href = '/login';\n};\n\nexport const _setTokens = (tokens) => {\n    const expiresIn = tokens.expires_in || 604800;\n    const timestampNow = Math.floor(Date.now() / 1000);\n    const expireDate = timestampNow + expiresIn;\n    cookies.set('access_token', tokens.access_token, {path: '/', domain: window.location.hostname});\n    cookies.set('refresh_token', tokens.refresh_token, {path: '/', domain: window.location.hostname});\n    cookies.set('expire_date', expireDate, {path: '/', domain: window.location.hostname});\n};\n\nexport const _getAccessToken = () => {\n    const accessToken = cookies.get('access_token', { path: '/', domain: window.location.hostname });\n    const expireDate = cookies.get('expire_date', { path: '/', domain: window.location.hostname });\n\n    /* Проверяем не просрочен ли токен\n    * В случае его просроченности, обновляем с помощью refresh_token */\n    if (accessToken) {\n        const timestampNow = Math.floor(Date.now() / 1000);\n        if (timestampNow >= expireDate) {\n            _refreshToken();\n        }\n    } else {\n        return null;\n    }\n\n    return cookies.get('access_token', { path: '/', domain: window.location.hostname });\n};\n\nexport const _setClient = (email) => {\n    localStorage.setItem('client_email', email);\n}\n\nexport const _getClient = () => {\n    return localStorage.getItem('client_email');\n}\n\nexport const _isLoggedIn = () => {\n    return !!_getAccessToken();\n};\n","import React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { _isLoggedIn } from \"./service\";\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n    const isLoggedIn = _isLoggedIn();\n\n    return (\n        <Route\n            {...rest}\n            render={props =>\n                isLoggedIn ? (\n                    <Component {...props} />\n                ) : (\n                    <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\n                )\n            }\n        />\n    )\n}\n\nexport default PrivateRoute;\n","import {\n    GET_TOKENS_SUCCESS,\n    GET_TOKENS_FAILED\n} from \"./types\";\n\nconst initialState = {\n    access_token: null,\n    refresh_token: null,\n    expires_in: null\n};\n\nexport function loginReducer(state = initialState, action) {\n    switch (action.type) {\n        case GET_TOKENS_SUCCESS:\n            return {\n                ...state,\n                access_token: action.payload.access_token,\n                refresh_token: action.payload.refresh_token,\n                expires_in: action.payload.expires_in,\n                error: null,\n            };\n        case GET_TOKENS_FAILED:\n            return {\n                ...state,\n                access_token: null,\n                refresh_token: null,\n                expires_in:null,\n                error: true,\n            };\n        default:\n            return state;\n    }\n}\n\nexport default loginReducer;\n","export const GET_TOKENS_SUCCESS = \"GET_TOKENS_SUCCESS\";\nexport const GET_TOKENS_FAILED = \"GET_TOKENS_FAILED\";\n","import {\n    GET_USERS_SUCCESS,\n    GET_USERS_FAILED\n} from \"./types\";\n\nconst initialState = {\n    users: null,\n};\n\nexport function usersReducer(state = initialState, action) {\n    switch (action.type) {\n        case GET_USERS_SUCCESS:\n            return {\n                ...state,\n                users: action.payload,\n                pagination: action.pagination,\n                error: null,\n            };\n        case GET_USERS_FAILED:\n            return {\n                ...state,\n                users: null,\n                pagination: null,\n                error: true,\n            };\n        default:\n            return state;\n    }\n}\n\nexport default usersReducer;\n","export const GET_USERS_SUCCESS = 'GET_USERS_SUCCESS';\nexport const GET_USERS_FAILED = 'GET_USERS_FAILED';\n","import {\n    GET_STATISTIC_SUCCESS,\n    GET_STATISTIC_FAILED\n} from \"./types\";\n\nconst initialState = {\n    statistic: null,\n};\n\nexport function statisticReducer(state = initialState, action) {\n    switch (action.type) {\n        case GET_STATISTIC_SUCCESS:\n            return {\n                ...state,\n                statistic: action.payload,\n                error: null,\n            };\n        case GET_STATISTIC_FAILED:\n            return {\n                ...state,\n                statistic: null,\n                error: true,\n            };\n        default:\n            return state;\n    }\n}\n\nexport default statisticReducer;\n","export const GET_STATISTIC_SUCCESS = \"GET_STATISTIC_SUCCESS\";\nexport const GET_STATISTIC_FAILED = \"GET_STATISTIC_FAILED\";\n","import {\n    GET_DEVICES_CATEGORIES_SUCCESS,\n    GET_DEVICES_CATEGORIES_FAILED, GET_DEVICES_SUCCESS, GET_DEVICES_FAILED\n} from \"./types\";\n\nconst initialState = {\n    categories: null,\n    devices: null,\n};\n\nexport function devicesReducer(state = initialState, action) {\n    switch (action.type) {\n        case GET_DEVICES_CATEGORIES_SUCCESS:\n            return {\n                ...state,\n                categories: action.payload,\n                error: null,\n            };\n        case GET_DEVICES_CATEGORIES_FAILED:\n            return {\n                ...state,\n                categories: null,\n                error: true,\n            };\n        case GET_DEVICES_SUCCESS:\n            return {\n                ...state,\n                devices: action.payload,\n                error: null,\n            };\n        case GET_DEVICES_FAILED:\n            return {\n                ...state,\n                devices: null,\n                error: true,\n            };\n        default:\n            return state;\n    }\n}\n\nexport default devicesReducer;\n","export const GET_DEVICES_CATEGORIES_SUCCESS = \"GET_DEVICES_CATEGORIES_SUCCESS\";\nexport const GET_DEVICES_CATEGORIES_FAILED = \"GET_DEVICES_CATEGORIES_FAILED\";\nexport const CREATE_DEVICES_CATEGORIES_SUCCESS = \"CREATE_DEVICES_CATEGORIES_SUCCESS\";\nexport const CREATE_DEVICES_CATEGORIES_FAILED = \"CREATE_DEVICES_CATEGORIES_FAILED\";\nexport const GET_DEVICES_SUCCESS = \"GET_DEVICES_SUCCESS\";\nexport const GET_DEVICES_FAILED = \"GET_DEVICES_FAILED\";\nexport const CREATE_DEVICE_SUCCESS = \"CREATE_DEVICES_CATEGORIES_SUCCESS\";\nexport const CREATE_DEVICE_FAILED = \"CREATE_DEVICES_CATEGORIES_FAILED\";\nexport const UPDATE_DEVICE_SUCCESS = \"CREATE_DEVICES_CATEGORIES_SUCCESS\";\nexport const UPDATE_DEVICE_FAILED = \"CREATE_DEVICES_CATEGORIES_FAILED\";\n","import {\n    GET_WATCHES_SUCCESS,\n    GET_WATCHES_FAILED,\n    GET_WATCH_USERS_FAILED,\n    GET_WATCH_USERS_SUCCESS,\n    RESET_PASSWORD_SUCCESS,\n    RESET_PASSWORD_FAILED,\n    SEND_MESSAGE_SUCCESS,\n    SEND_MESSAGE_FAILED,\n    WATCH_BIND_SUCCESS,\n    WATCH_BIND_FAILED,\n    WATCH_UNBIND_SUCCESS,\n    WATCH_UNBIND_FAILED,\n    REMOVE_WATCH_SUCCESS,\n    REMOVE_WATCH_FAILED,\n    CLEAR_STATE,\n    GET_WATCH_ONLINE_SUCCESS,\n    CREATE_WATCH_SUCCESS,\n    DELETE_USER_SUCCESS,\n    DELETE_USER_FAILED,\n    CREATE_CHILD_SUCCESS,\n    DELETE_CHILD_SUCCESS,\n    DELETE_CHILD_FAILED,\n} from \"./types\";\n\nconst initialState = {\n    watches: null,\n};\n\nexport function watchesReducer(state = initialState, action) {\n    switch (action.type) {\n        case GET_WATCHES_SUCCESS:\n            return {\n                ...state,\n                watches: action.payload,\n                error: null,\n            };\n        case GET_WATCHES_FAILED:\n            return {\n                ...state,\n                watches: null,\n                error: true,\n            };\n        case GET_WATCH_USERS_SUCCESS:\n            return {\n                ...state,\n                watch_users: action.payload,\n                error: null,\n            };\n        case GET_WATCH_USERS_FAILED:\n            return {\n                ...state,\n                watch_users: null,\n                error: true,\n            };\n        case RESET_PASSWORD_SUCCESS:\n            return {\n                ...state,\n                reset_status: 'success',\n                error: null,\n            };\n        case RESET_PASSWORD_FAILED:\n            return {\n                ...state,\n                reset_status: 'failed',\n                error: true,\n            };\n        case SEND_MESSAGE_SUCCESS:\n            return {\n                ...state,\n                response: action.payload,\n                send_status: 'success',\n                error: null,\n            };\n        case SEND_MESSAGE_FAILED:\n            return {\n                ...state,\n                send_status: 'failed',\n                error: true,\n            };\n        case WATCH_BIND_SUCCESS:\n            return {\n                ...state,\n                bind_status: 'success',\n                error: null,\n            };\n        case WATCH_BIND_FAILED:\n            return {\n                ...state,\n                bind_status: 'failed',\n                error: true,\n            };\n        case WATCH_UNBIND_SUCCESS:\n            return {\n                ...state,\n                unbind_status: 'success',\n                error: null,\n            };\n        case WATCH_UNBIND_FAILED:\n            return {\n                ...state,\n                unbind_status: 'failed',\n                error: true,\n            }\n        case REMOVE_WATCH_SUCCESS:\n            return {\n                ...state,\n                remove_status: 'success',\n                error: null,\n            };\n        case REMOVE_WATCH_FAILED:\n            return {\n                ...state,\n                remove_status: 'failed',\n                error: true,\n            }\n        case GET_WATCH_ONLINE_SUCCESS:\n            return {\n                ...state,\n                watches_online: action.payload,\n                error: false,\n            }\n        case CREATE_WATCH_SUCCESS:\n            return {\n                ...state,\n                watches_created: action.payload,\n                error: false,\n            }\n        case CREATE_CHILD_SUCCESS:\n            return {\n                ...state,\n                child_created: action.payload,\n                error: false,\n            }\n        case DELETE_CHILD_SUCCESS:\n            return {\n                ...state,\n                delete_child_status: 'success',\n                error: false,\n            }\n        case DELETE_CHILD_FAILED:\n            return {\n                ...state,\n                delete_child_status: 'failed',\n                error: true,\n            }\n        case DELETE_USER_SUCCESS:\n            return {\n                ...state,\n                delete_user_status: 'success',\n                error: false,\n            }\n        case DELETE_USER_FAILED:\n            return {\n                ...state,\n                delete_user_status: 'failed',\n                error: true,\n            }\n        case CLEAR_STATE:\n            return {\n                ...state,\n                reset_status: null,\n                send_status: null,\n                bind_status: null,\n                unbind_status: null,\n                remove_status: null,\n                error: null,\n            };\n        default:\n            return state;\n    }\n}\n\nexport default watchesReducer;\n","export const GET_WATCHES_SUCCESS = 'GET_WATCHES_SUCCESS';\nexport const GET_WATCHES_FAILED = 'GET_WATCHES_FAILED';\nexport const GET_WATCH_USERS_SUCCESS = 'GET_WATCH_USERS_SUCCESS';\nexport const GET_WATCH_USERS_FAILED = 'GET_WATCH_USERS_FAILED';\nexport const RESET_PASSWORD_SUCCESS = 'RESET_PASSWORD_SUCCESS';\nexport const RESET_PASSWORD_FAILED = 'RESET_PASSWORD_FAILED';\nexport const SEND_MESSAGE_SUCCESS = 'SEND_MESSAGE_SUCCESS';\nexport const SEND_MESSAGE_FAILED = 'SEND_MESSAGE_FAILED';\nexport const WATCH_BIND_SUCCESS = 'WATCH_BIND_SUCCESS';\nexport const WATCH_BIND_FAILED = 'WATCH_BIND_FAILED';\nexport const WATCH_UNBIND_SUCCESS = 'WATCH_UNBIND_SUCCESS';\nexport const WATCH_UNBIND_FAILED = 'WATCH_UNBIND_FAILED';\nexport const REMOVE_WATCH_SUCCESS = 'REMOVE_WATCH_SUCCESS';\nexport const REMOVE_WATCH_FAILED = 'REMOVE_WATCH_FAILED';\nexport const GET_WATCH_ONLINE_SUCCESS = 'GET_WATCH_ONLINE_SUCCESS';\nexport const GET_WATCH_ONLINE_FAILED = 'GET_WATCH_ONLINE_FAILED';\nexport const CREATE_WATCH_SUCCESS = 'CREATE_WATCH_SUCCESS';\nexport const CREATE_WATCH_FAILED = 'CREATE_WATCH_FAILED';\nexport const CREATE_CHILD_SUCCESS = 'CREATE_CHILD_SUCCESS';\nexport const CREATE_CHILD_FAILED = 'CREATE_CHILD_FAILED';\nexport const DELETE_CHILD_SUCCESS = 'DELETE_CHILD_SUCCESS';\nexport const DELETE_CHILD_FAILED = 'DELETE_CHILD_FAILED';\nexport const DELETE_USER_SUCCESS = 'DELETE_USER_SUCCESS';\nexport const DELETE_USER_FAILED = 'DELETE_USER_FAILED';\nexport const CLEAR_STATE = 'CLEAR_STATE';\n","import { combineReducers } from \"redux\";\nimport { connectRouter } from \"connected-react-router\";\nimport loginReducer from \"../pages/login/duck/reducer\";\nimport usersReducer from \"../pages/users/duck/reducer\";\nimport statisticReducer from \"../pages/statistic/duck/reducer\";\nimport devicesReducer from \"../pages/devices/duck/reducer\";\nimport watchesReducer from \"../pages/watches/duck/reducer\";\n\nconst rootReducer = (history) => combineReducers({\n    router: connectRouter(history),\n    login: loginReducer,\n    users: usersReducer,\n    statistic: statisticReducer,\n    devices: devicesReducer,\n    watches: watchesReducer\n});\n\nexport default rootReducer;\n","import { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { createBrowserHistory } from \"history\";\n\nimport rootReducer from \"./root-reducer\";\n\nexport const history = createBrowserHistory();\nconst store = createStore(rootReducer(history), applyMiddleware(thunk));\n\nexport default store;\n","import React, {useEffect, useState} from \"react\";\nimport { Form, Button, Input, Typography } from \"antd\";\nimport \"./login.less\";\nimport { _setClient } from \"../../service\";\n\nconst { Title } = Typography;\n\nfunction LoginView (props) {\n    const [loginError, setLoginError] = useState('');\n    useEffect(() => {\n        if (props.isLogged) {\n            props.history.push('/');\n        }\n    }, [props.isLogged]);\n    /* Вызывается при отправке формы авторизации */\n    const onFinish = (values) => {\n        props.getTokens({\n            \"username\": values.username,\n            \"password\": values.password,\n        });\n\n        _setClient(values.username);\n    };\n\n    /* Функция для проверки ввода символов отличных от ASCII */\n    const checkSymbols = (event) => {\n        const currentValue = event.target.value;\n        if (currentValue.length === 0) setLoginError('');\n        const hasUnicodeSymbols = currentValue.split('').some((valueSymbol, index) => {\n            return currentValue.charCodeAt(index) > 127;\n        });\n\n        setLoginError(hasUnicodeSymbols ? 'Проверьте раскладку' : '');\n    };\n    return(\n        <>\n            <div className=\"content\">\n                <div className=\"logo\">\n                    <img\n                        className=\"large\"\n                        src=\"/assets/images/logo.svg\"/>\n                </div>\n                <Form\n                    className=\"login-form\"\n                    onFinish={onFinish}\n                >\n                    <Title level={4} style={{ marginTop: '40px' }}>\n                    Вход в систему\n                    </Title>\n                    <div className=\"form-items-wrapper\">\n                        <Form.Item\n                            name=\"username\"\n                            label=\"Логин:\"\n                            rules={[{ required: true, message: 'Поле обязательно для ввода' }]}\n                        >\n                            <Input size=\"large\" />\n                        </Form.Item>\n                        <Form.Item\n                            name=\"password\"\n                            label=\"Пароль:\"\n                            rules={[{ required: true, message: 'Поле обязательно для ввода' }]}\n                        >\n                            <Input.Password size=\"large\" onInput={checkSymbols} />\n                        </Form.Item>\n                        {loginError && <p className=\"error\">{loginError}</p>}\n                    </div>\n                    <Button\n                        type=\"primary\"\n                        htmlType=\"submit\"\n                        size=\"large\"\n                    >\n                        Войти\n                    </Button>\n                </Form>\n            </div>\n        </>\n    );\n}\n\nexport default LoginView;\n","import { connect } from \"react-redux\";\nimport LoginView from \"./login.view\";\n\nimport {\n    getTokens,\n} from \"./duck/actions\";\n\nimport { _setTokens, _isLoggedIn } from \"../../service\";\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        getTokens: (data) => {\n            return dispatch(getTokens(data));\n        },\n    };\n};\n\nconst mapStateToProps = (state) => {\n    if (state.login && state.login.access_token) {\n        _setTokens({\n            access_token: state.login.access_token,\n            refresh_token: state.login.refresh_token,\n            expires_in: state.login.expires_in,\n        });\n    }\n    return {\n        ...state.login,\n        isLogged: _isLoggedIn()\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginView);\n","import axios from 'axios';\nimport { API_HOST, SECRET } from \"../../../constants\";\n\nimport {\n    GET_TOKENS_SUCCESS,\n    GET_TOKENS_FAILED\n} from \"./types\";\n\nexport const getTokenSuccess = (data) => {\n    return {\n        type: GET_TOKENS_SUCCESS,\n        payload: data\n    }\n};\n\nexport const getTokenFailed = (error) => {\n    return {\n        type: GET_TOKENS_FAILED,\n        payload: error\n    }\n};\nexport const getTokens = (data) => {\n    const authData = Object.assign(data, SECRET);\n    return (dispatch) => {\n        return axios\n            .post(`${API_HOST}/oauth/token`, JSON.stringify(authData), {\n                headers: {\n                    'Content-Type': 'application/json'\n                }\n            })\n            .then((response) => {\n                dispatch(getTokenSuccess(response.data));\n            })\n            .catch(() => {\n                dispatch(getTokenFailed());\n            });\n    };\n};\n","import React, {useEffect} from 'react';\nimport './wrapper.less';\nimport { Link } from 'react-router-dom';\nimport {\n    TeamOutlined,\n    LineChartOutlined,\n    RocketOutlined,\n    LogoutOutlined,\n    ClockCircleOutlined,\n} from '@ant-design/icons';\nimport { _getClient, logOut } from \"../../service\";\n\nconst regularTabs = [\n    {\n        href: '/',\n        title: 'Пользователи',\n        icon: <TeamOutlined size=\"large\"/>\n    },\n    {\n        href: '/statistic',\n        title: 'Статистика',\n        icon: <LineChartOutlined />\n    },\n    {\n        href: '/devices',\n        title: 'Управление',\n        icon: <RocketOutlined />,\n    },\n    {\n        href: '/watches',\n        title: 'RunGo',\n        icon: <ClockCircleOutlined />\n    }\n];\n\nconst rungoTabs = [\n    {\n        href: '/watches',\n        title: 'RunGo',\n        icon: <ClockCircleOutlined />\n    }\n];\n\nlet currentTabs = _getClient() === 'apps@defacto-group.ru' ? rungoTabs : regularTabs;\n\nfunction Wrapper(props) {\n    useEffect(() => {\n        if (_getClient() === 'apps@defacto-group.ru') {\n            currentTabs = rungoTabs;\n            props.history.push('/watches')\n        } else {\n            currentTabs = regularTabs;\n        }\n    }, []);\n\n    return (\n        <div>\n            <div className=\"sider\">\n                <div className=\"logo\">\n                    <img src=\"/assets/images/logo.svg\"/>\n                </div>\n                <div className=\"sider-tabs\">\n                    <ul className=\"nav\">\n                        {\n                            currentTabs.map(tab =>\n                                <li\n                                    className={props.match.url === tab.href ? 'active' : ''}\n                                >\n                                    <Link\n                                        to={tab.href}\n                                        style={{ marginLeft: '5px'}}\n                                    >\n                                        {tab.icon}\n                                        <p>{tab.title}</p>\n                                    </Link>\n                                </li>\n                            )\n                        }\n                    </ul>\n                    <ul className=\"nav\">\n                        <li>\n                            <a\n                                onClick={logOut}\n                                className=\"logout\"\n                            >\n                                <LogoutOutlined />\n                                <span>Выйти</span>\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n            <div className=\"layout\">\n                <div\n                    style={{\n                        padding: 24,\n                        minHeight: 280,\n                    }}\n                >\n                    {props.children}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Wrapper;\n","export const columns =\n[\n    {\n        title: 'ID',\n        dataIndex: 'id',\n        key: 'id',\n    },\n    {\n        title: 'Категория',\n        dataIndex: 'category',\n        key: 'code',\n        render: (value) => {\n            return value.title;\n        }\n    },\n    {\n        title: 't_product_name',\n        dataIndex: 't_product_name',\n        key: 't_product_name',\n    },\n    {\n        title: 'PID',\n        dataIndex: 't_product_id',\n        key: 't_product_id',\n    },\n];\n","import React, { useEffect, useState } from 'react';\nimport Wrapper from '../../components/wrapper';\nimport {\n    Typography,\n    Skeleton,\n    Input,\n    Card,\n    Avatar,\n    Pagination,\n    Button,\n    Modal,\n    Table\n} from 'antd';\nimport { EyeOutlined, EditOutlined, DeleteOutlined } from '@ant-design/icons';\nimport './users.less';\nimport moment from \"moment\";\nimport { columns } from \"./columns\";\n\nconst { Meta } = Card;\nconst { Title } = Typography;\n\nfunction UsersView(props) {\n    const [usersList, setUsersList] = useState(null);\n    const [userDevices, setUserDevices] = useState(null);\n    const [paginationState, setPaginationState] = useState({\n        page: 0,\n        size: 10\n    });\n    const [queryEmailString, setQueryEmailString] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [userDevicesModalVisible, setUserDevicesModalVisible] = useState(false);\n\n    useEffect(() => {\n        props.getUsers(paginationState);\n        props.getDevices();\n    }, []);\n\n    useEffect(() => {\n        if (props.users) {\n            const usersTemp = [];\n            let count = 0;\n            props.users.forEach(user => {\n\n                user['key'] = user.id;\n                usersTemp.push(user);\n                if (user.home_device_counts.length > 0) {\n                    count++;\n                }\n            });\n            setUsersList(usersTemp);\n            setLoading(false);\n        }\n    }, [props.users]);\n\n    useEffect(() => {\n        props.getUsers({...paginationState, queryEmailString});\n    }, [paginationState, queryEmailString]);\n\n    const searchUser = (event) => {\n        setQueryEmailString(event.target.value);\n    }\n\n    const onChangePage = (page, size) => {\n        setPaginationState({\n            ...paginationState,\n            page,\n            size\n        })\n    };\n\n    const getUserDevices = () => {\n        showUsersDeviceModal();\n    };\n\n    const showUsersDeviceModal = () => {\n        setUserDevicesModalVisible(true);\n    };\n\n    const hideUsersDeviceModal = () => {\n        setUserDevicesModalVisible(false);\n    };\n\n    return (\n        <Wrapper {...props} tabActive=\"users\">\n            <div className=\"action-header\">\n                <Title level={2}>Пользователи</Title>\n            </div>\n            {usersList &&\n                <Input\n                    style={{\n                        width: '350px'\n                    }}\n                    size=\"large\"\n                    placeholder=\"Поиск пользователей\"\n                    onInput={searchUser}\n                />\n            }\n            <div className=\"users-list\">\n                {\n                    usersList && usersList.map(user =>\n                        <Card\n                            actions={[\n                                <EyeOutlined\n                                    key=\"monitoring\"\n                                    onClick={getUserDevices}\n                                />,\n                                <EditOutlined key=\"edit\" />,\n                                <DeleteOutlined key=\"delete\" />,\n                            ]}\n                            className=\"users-list__card\"\n                        >\n                            <Skeleton avatar active loading={loading}>\n                                <Meta\n                                    avatar={\n                                        <Avatar src=\"https://zos.alipayobjects.com/rmsportal/ODTLcjxAfvqbxHnVXCYX.png\" />\n                                    }\n                                    title={user.name}\n                                    description={user.email}\n                                />\n                                {user.home_device_counts &&\n                                    <ul className=\"users-list__card__devices\">\n                                        {user.home_device_counts.map(device =>\n                                            <li>\n                                                <span>{device.home_title}: </span>\n                                                <span>{device.device_count}</span>\n                                            </li>\n                                        )}\n                                    </ul>\n                                }\n                            </Skeleton>\n                            <span className=\"users-list__card__created_at\">{moment(user.created_at * 1000).format('LLL')}</span>\n                        </Card>\n                    )\n                }\n            </div>\n            {\n                props?.pagination?.total_count &&\n                <Pagination\n                    current={paginationState.page}\n                    onChange={onChangePage}\n                    total={props?.pagination?.total_count}\n                />\n            }\n\n            <Modal\n                title=\"Устройства пользователя\"\n                visible={userDevicesModalVisible}\n                onCancel={hideUsersDeviceModal}\n                footer={[\n                    <Button key=\"back\" onClick={hideUsersDeviceModal}>\n                        Отменить\n                    </Button>,\n                ]}\n            >\n                <Table\n                    dataSource={userDevices}\n                    columns={columns}\n                />\n            </Modal>\n\n        </Wrapper>\n\n    );\n}\n\nexport default UsersView;\n","import axios from 'axios';\nimport Cookies from 'universal-cookie';\n\nconst cookies = new Cookies();\nconst http = axios.create();\n\nhttp.interceptors.response.use(undefined, (error) => {\n    if (error.response.status === 401) {\n        return http.request(error.response.config);\n    }\n    return Promise.reject(error);\n});\n\n/* Подставляет Bearer Token в каждый запрос */\nhttp.interceptors.request.use((config) => {\n    const token = cookies.get('access_token', { path: '/', domain: window.location.hostname });\n    if (token) {\n        // eslint-disable-next-line no-param-reassign\n        config.headers.Authorization = `Bearer ${token}`;\n        config.headers.Accept = 'application/json';\n    }\n    return config;\n}, undefined);\n\nexport default http;\n","import http from '../../../service/axiosCustom';\nimport {\n    GET_USERS_SUCCESS,\n    GET_USERS_FAILED\n} from \"./types\";\nimport { API_URL } from \"../../../constants\";\n\nexport const getUsersSuccess = (data) => {\n    return {\n        type: GET_USERS_SUCCESS,\n        payload: data.data,\n        pagination: data.paging\n    }\n};\n\nexport const getUsersFailed = (error) => {\n    return {\n        type: GET_USERS_FAILED,\n        payload: error\n    }\n};\nexport const getUsers = (page = 0, size = 10, email_like) => {\n    return (dispatch) => {\n        return http\n            .get(`${API_URL}/users/?page=${page}&size=${size}${email_like ? `&email_like=${email_like}` : ''}`)\n            .then((response) => {\n                dispatch(getUsersSuccess(response.data));\n            })\n            .catch(() => {\n                dispatch(getUsersFailed());\n            });\n    }\n};\n","import http from '../../../service/axiosCustom';\nimport { API_URL } from \"../../../constants\";\n\nimport {\n    GET_DEVICES_SUCCESS,\n    GET_DEVICES_FAILED,\n    CREATE_DEVICE_SUCCESS,\n    CREATE_DEVICE_FAILED,\n    UPDATE_DEVICE_SUCCESS,\n    UPDATE_DEVICE_FAILED,\n    GET_DEVICES_CATEGORIES_SUCCESS,\n    GET_DEVICES_CATEGORIES_FAILED,\n    CREATE_DEVICES_CATEGORIES_SUCCESS,\n    CREATE_DEVICES_CATEGORIES_FAILED,\n} from \"./types\";\n\nexport const getDevicesSuccess = (data) => {\n    return {\n        type: GET_DEVICES_SUCCESS,\n        payload: data\n    }\n};\n\nexport const getDevicesFailed = (error) => {\n    return {\n        type: GET_DEVICES_FAILED,\n        payload: error\n    }\n};\n\nexport const createDeviceSuccess = (data) => {\n    return {\n        type: CREATE_DEVICE_SUCCESS,\n        payload: data\n    }\n};\n\nexport const createDeviceFailed = (error) => {\n    return {\n        type: CREATE_DEVICE_FAILED,\n        payload: error\n    }\n};\n\nexport const updateDeviceSuccess = (data) => {\n    return {\n        type: UPDATE_DEVICE_SUCCESS,\n        payload: data\n    }\n};\n\nexport const updateDeviceFailed = (error) => {\n    return {\n        type: UPDATE_DEVICE_FAILED,\n        payload: error\n    }\n};\n\nexport const getDevicesCategoriesSuccess = (data) => {\n    return {\n        type: GET_DEVICES_CATEGORIES_SUCCESS,\n        payload: data\n    }\n};\n\nexport const getDevicesCategoriesFailed = (error) => {\n    return {\n        type: GET_DEVICES_CATEGORIES_FAILED,\n        payload: error\n    }\n};\n\nexport const createDevicesCategoriesSuccess = (data) => {\n    return {\n        type: CREATE_DEVICES_CATEGORIES_SUCCESS,\n        payload: data\n    }\n};\n\nexport const createDevicesCategoriesFailed = (error) => {\n    return {\n        type: CREATE_DEVICES_CATEGORIES_FAILED,\n        payload: error\n    }\n};\n\nexport const getDevices = () => {\n    return (dispatch) => {\n        return http\n            .get(`${API_URL}/products/`)\n            .then((response) => {\n                dispatch(getDevicesSuccess(response.data))\n            })\n            .catch(() => {\n                dispatch(getDevicesFailed());\n            });\n    };\n};\n\nexport const createDevice = (deviceData) => {\n    return (dispatch) => {\n        return http\n            .post(`${API_URL}/products`, deviceData)\n            .then((response) => {\n                dispatch(createDeviceSuccess(response.data))\n            })\n            .catch(() => {\n                dispatch(createDeviceFailed());\n            });\n    };\n};\n\nexport const updateDevice = (id, deviceData) => {\n    return (dispatch) => {\n        return http\n            .patch(`${API_URL}/products/${id}`, deviceData)\n            .then((response) => {\n                dispatch(updateDeviceSuccess(response.data))\n            })\n            .catch(() => {\n                dispatch(updateDeviceFailed());\n            });\n    };\n};\n\nexport const getDevicesCategories = () => {\n    return (dispatch) => {\n        return http\n            .get(`${API_URL}/device-categories`)\n            .then((response) => {\n                dispatch(getDevicesCategoriesSuccess(response.data))\n            })\n            .catch(() => {\n                dispatch(getDevicesCategoriesFailed());\n            });\n    };\n};\n\nexport const createCategory = (categoryData) => {\n    return (dispatch) => {\n        return http\n            .post(`${API_URL}/device-categories`, categoryData)\n            .then((response) => {\n                dispatch(createDevicesCategoriesSuccess(response.data))\n            })\n            .catch(() => {\n                dispatch(createDevicesCategoriesFailed());\n            });\n    };\n};\n","import { connect } from \"react-redux\";\nimport UsersView from \"./users.view\";\n\nimport {\n    getUsers,\n} from \"./duck/actions\";\n\nimport {\n    getDevices\n} from \"../devices/duck/actions\";\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        getUsers: (queryData) => {\n            return dispatch(getUsers(\n                queryData.page,\n                queryData.size,\n                queryData.queryEmailString\n            ));\n        },\n\n        getDevices: () => {\n            return dispatch(getDevices());\n        }\n    };\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        ...state.users,\n        ...state.devices,\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(UsersView);\n","import React, {useEffect, useState} from 'react';\nimport { Chart as ChartJS, ArcElement, Tooltip, Legend, CategoryScale, LinearScale, BarElement } from 'chart.js';\nimport { Doughnut, Bar } from 'react-chartjs-2';\nimport './charts.less';\n\nChartJS.register(ArcElement, Tooltip, Legend, CategoryScale,LinearScale, BarElement);\n\nfunction Charts(props) {\n    const randomRgba = () => {\n        const o = Math.round, r = Math.random, s = 255;\n        return 'rgba(' + o(r()*s) + ',' + o(r()*s) + ',' + o(r()*s) + ',' + '0.2' + ')';\n    }\n    const [data, setData] = useState({\n        labels: [],\n        datasets: [\n            {\n                label: 'Устройств',\n                data: [],\n                backgroundColor: [],\n                borderWidth: 1,\n            },\n        ],\n    });\n\n    useEffect(() => {\n        const dataArray = [];\n        if (props.devices) {\n            props.devices.map((device) => {\n                if (!dataArray.find(item => item.id === device.category.id)) {\n                    dataArray.push({\n                        id: device.category.id,\n                        title: device.category.title,\n                        count: 1,\n                        color: randomRgba()\n                    });\n                } else {\n                    const item = dataArray.find(item => item.id === device.category.id);\n                    item.count += 1;\n                }\n            });\n        }\n        dataArray.map(item => {\n            data.labels.push(item.title);\n            data.datasets[0].data.push(item.count);\n            data.datasets[0].backgroundColor.push(item.color);\n        });\n        setData(JSON.parse(JSON.stringify(data)));\n    }, [props.devices]);\n    return(\n        <div\n            style={{\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'space-between',\n                marginBottom: '40px'\n            }}\n        >\n            <div\n                style={{\n                width: '40%',\n            }}\n            >\n                <Doughnut\n                    data={data}\n                />\n            </div>\n            <div\n                style={{\n                    width: '50%',\n                }}\n            >\n                <Bar\n                    data={data}\n                />\n            </div>\n        </div>\n    );\n}\n\nexport default Charts;\n","import React from \"react\";\nimport moment from \"moment\";\n\nexport const columns = [\n    {\n        title: 'ID Продукта',\n        dataIndex: 'id',\n        key: 'id',\n    },\n    {\n        title: 'Название',\n        dataIndex: 'name',\n        key: 'name',\n    },\n    {\n        title: 'ID Категории',\n        dataIndex: 't_product_id',\n        key: 'category_id',\n    },\n    {\n        title: 'Категория',\n        dataIndex: 'category',\n        key: 'category',\n    },\n    {\n        title: 'Количество',\n        dataIndex: 'count',\n        key: 'count',\n    },\n];\n\nexport const columnsProducts = [\n    {\n        title: '',\n        dataIndex: 'category',\n        render: (category) => {\n            return(\n                <img\n                    style={{\n                        width: '40px'\n                    }}\n                    src={`https://api.fasthome.io/${category.icon}`} alt=\"\"\n                />\n            );\n        }\n    },\n    {\n        title: 'Дата создания',\n        dataIndex: 'created_at',\n        render: (created_at) => {\n            return(\n                moment(created_at * 1000).format(\"DD.MM.YYYY\")\n            );\n        }\n    },\n    {\n        title: 'ID Продукта',\n        dataIndex: 'id',\n        key: 'id',\n    },\n    {\n        title: 'Название',\n        dataIndex: 't_product_name',\n        key: 't_product_name',\n    },\n    {\n        title: 'ID Категории',\n        dataIndex: 't_product_id',\n        key: 'category_id',\n    },\n    {\n        title: 'Категория',\n        dataIndex: 'category',\n        key: 'category',\n        render: (category) => {\n            return category.title;\n        }\n    },\n];\n","import React, {useEffect, useState} from \"react\";\nimport {Menu, Select, DatePicker, Table} from \"antd\";\nimport moment from \"moment\";\nimport { columnsProducts } from \"./columns\";\n\nconst { Option } = Select;\nconst { RangePicker } = DatePicker;\n\nfunction DatesView(props) {\n    const [dates, setDates] = useState(null);\n    const [dateRange, setDateRange] = useState([moment().startOf('day'), moment()]);\n    const [interval, setInterval] = useState('all');\n    const [devices, setDevices] = useState(null);\n    const [allDevices, setAllDevices] = useState(null);\n\n    const dateFormat = \"DD.MM.YYYY\";\n\n    useEffect(() => {\n        props.getDevices();\n    }, []);\n\n    useEffect(() => {\n        if (interval === 'all') setDevices(allDevices);\n    }, [interval]);\n\n    const generateDevicesList = (items) => {\n        const currentDevices = [];\n        const currentDates = [];\n\n        items.map((item) => {\n            const date = moment(item.created_at * 1000).format(dateFormat);\n            if (!currentDates.includes(date)) {\n                currentDates.push(date);\n            }\n\n            currentDevices.push(item);\n        });\n\n        setDates(Array.from(currentDates));\n        setDevices(Array.from(currentDevices));\n    }\n\n    useEffect(() => {\n        if (props.devices && props.devices.data) {\n            const items = props.devices.data;\n            generateDevicesList(items.reverse());\n            setAllDevices(props.devices.data);\n        }\n    }, [props.devices]);\n\n    useEffect(() => {\n        if (allDevices?.length) {\n            const dates = _getDateInterval(interval);\n            const items = Array.from(allDevices);\n            const filteredItems = items.filter((item) => {\n                return item.created_at > moment(dates.dateFrom).unix()\n                    && item.created_at < moment(dates.dateTo).unix()\n            });\n\n            generateDevicesList(filteredItems);\n        }\n    }, [interval]);\n\n    const handleChangeRange = (range) => {\n        const items = props.devices.data;\n        const filteredItems = items.filter((item) => {\n            return item.created_at > moment(range[0]).startOf('day').unix()\n                && item.created_at < moment(range[1]).endOf('day').unix()\n        });\n\n        generateDevicesList(filteredItems);\n    }\n\n    const _getDateInterval = (currentInterval) => {\n        const intervalDefault = {\n            dateFrom: moment().startOf('day').format(),\n            dateTo: moment().format(),\n        };\n\n        switch (currentInterval) {\n            case 'all':\n                intervalDefault.dateFrom = moment().subtract(10, 'years').startOf('day').format();\n                intervalDefault.dateTo = moment().subtract(1, 'days').endOf('day').format();\n                break;\n            case 'yesterday':\n                intervalDefault.dateFrom = moment().subtract(1, 'days').startOf('day').format();\n                intervalDefault.dateTo = moment().subtract(1, 'days').endOf('day').format();\n                break;\n            case 'week':\n                intervalDefault.dateFrom = moment().subtract(6, 'days').startOf('day').format();\n                break;\n            case 'month':\n                intervalDefault.dateFrom = moment().subtract(29, 'days').startOf('day').format();\n                break;\n        }\n\n        return intervalDefault;\n    };\n\n    return(\n        <>\n            <Select\n                style={{\n                    width: '200px',\n                    marginBottom: '20px'\n                }}\n                value={interval}\n                onSelect={(value) => {\n                    setInterval(value);\n                }}\n            >\n                <Option value=\"all\">За все время</Option>\n                <Option value=\"today\">За сегодня</Option>\n                <Option value=\"yesterday\">За вчера</Option>\n                <Option value=\"week\">За неделю</Option>\n                <Option value=\"month\">За месяц</Option>\n                <Option value=\"period\">За период</Option>\n            </Select>\n            {interval === 'period' &&\n                <RangePicker\n                    value={dateRange}\n                    format={dateFormat}\n                    onChange={handleChangeRange}\n                    style={{\n                        marginLeft: '15px'\n                    }}\n                />\n            }\n            {\n                devices?.length > 0&&\n                <span\n                    style={{\n                        marginLeft: '20px'\n                    }}\n                >\n                    {`За данный период добавлено устройств - ${devices?.length}`}\n                </span>\n            }\n            {/*<Menu*/}\n            {/*    mode=\"horizontal\"*/}\n            {/*    style={{*/}\n            {/*        marginBottom: '15px'*/}\n            {/*    }}*/}\n            {/*>*/}\n            {/*    {dates && dates.map(date =>*/}\n            {/*        <Menu.Item>{date}</Menu.Item>*/}\n            {/*    )}*/}\n            {/*</Menu>*/}\n            <Table dataSource={devices} columns={columnsProducts} />\n        </>\n\n    )\n}\n\nexport default DatesView;\n","import React, {useEffect, useState} from \"react\";\nimport Wrapper from \"../../components/wrapper\";\nimport Charts from './charts.view';\nimport {Typography, Table, Menu} from \"antd\";\nimport { columns } from \"./columns\";\nimport './statistic.less';\nimport DatesView from \"./dates.view\";\n\nconst { Title } = Typography;\n\nfunction StatisticView (props) {\n    const [selectedPage, setSelectedPage] = useState('byPeriod');\n    const [dataSource, setDataSource] = useState(null);\n\n    useEffect(() => {\n        props.getStatistic();\n    }, []);\n\n    useEffect(() => {\n        if (props.statistic && props.statistic.data && props.statistic.data.devices_by_product) {\n            let dataSourceTemp = [];\n            props.statistic.data.devices_by_product.map((device, index) => {\n                dataSourceTemp.push({\n                    key: index,\n                    id: device.product.id,\n                    t_product_id: device.product.t_product_id,\n                    name: device.product.name,\n                    category_id: device.category.id,\n                    category: device.category.title,\n                    count: device.count\n                });\n            });\n\n            setDataSource(dataSourceTemp);\n        }\n    }, [props.statistic]);\n\n    return(\n        <Wrapper {...props} tabActive=\"statistic\">\n\n            <div className=\"action-header\">\n                <Title level={2}>Статистика</Title>\n            </div>\n            <Menu\n                onSelect={(page) => {\n                    setSelectedPage(page.key);\n                }}\n                defaultSelectedKeys={[selectedPage]}\n                selectedKeys={[selectedPage]}\n                mode=\"horizontal\"\n                style={{\n                    marginBottom: '20px'\n                }}\n            >\n                <Menu.Item key=\"byPeriod\">По времени</Menu.Item>\n                <Menu.Item key=\"diagram\">Общая сводка</Menu.Item>\n            </Menu>\n            {dataSource && selectedPage === 'diagram' &&\n            <>\n                <ul className=\"statistic-top\">\n                    <li>\n                        <span>Количесто пользователей</span>\n                        <span className=\"statistic-top__value\">{props?.statistic?.data?.users_count}</span>\n                    </li>\n                    <li>\n                        <span>Количесто домов</span>\n                        <span className=\"statistic-top__value\">{props?.statistic?.data?.homes_count}</span>\n                    </li>\n                    <li>\n                        <span>Количесто девайсов</span>\n                        <span className=\"statistic-top__value\">{props?.statistic?.data?.devices_count}</span>\n                    </li>\n                </ul>\n                <Charts\n                    devices={props?.statistic?.data?.devices_by_product}\n                />\n                <Table dataSource={dataSource} columns={columns} />\n            </>\n            }\n\n            {\n                selectedPage === 'byPeriod' &&\n                <DatesView\n                    getDevices={props.getDevices}\n                    devices={props.devices}\n                />\n            }\n        </Wrapper>\n    );\n}\n\nexport default StatisticView;\n","import { connect } from \"react-redux\";\nimport StatisticView from \"./statistic.view\";\n\nimport {\n    getStatistic,\n} from \"./duck/actions\";\n\nimport { getDevices } from \"../devices/duck/actions\";\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        getStatistic: () => {\n            return dispatch(getStatistic());\n        },\n        getDevices: () => {\n            return dispatch(getDevices());\n        }\n    };\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        ...state.statistic,\n        ...state.devices\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StatisticView);\n","import http from '../../../service/axiosCustom';\nimport { API_URL } from \"../../../constants\";\n\nimport {\n    GET_STATISTIC_SUCCESS,\n    GET_STATISTIC_FAILED\n} from \"./types\";\n\nexport const getStatisticSuccess = (data) => {\n    return {\n        type: GET_STATISTIC_SUCCESS,\n        payload: data\n    }\n};\n\nexport const getStatisticFailed = (error) => {\n    return {\n        type: GET_STATISTIC_FAILED,\n        payload: error\n    }\n};\nexport const getStatistic = () => {\n    return (dispatch) => {\n        return http\n            .get(`${API_URL}/stats/current`)\n            .then((response) => {\n                dispatch(getStatisticSuccess(response.data));\n            })\n            .catch(() => {\n                dispatch(getStatisticFailed());\n            });\n    };\n};\n","import React from \"react\";\nimport moment from \"moment\";\nimport { EditOutlined } from \"@ant-design/icons\";\n\nexport function devicesColumns (setDeviceData) {\n    return(\n        [\n            {\n                title: 'ID',\n                dataIndex: 'id',\n                key: 'id',\n            },\n            {\n                title: 'Категория',\n                dataIndex: 'category',\n                key: 'code',\n                render: (value) => {\n                    return value.title;\n                }\n            },\n            {\n                title: 't_product_name',\n                dataIndex: 't_product_name',\n                key: 't_product_name',\n            },\n            {\n                title: 'PID',\n                dataIndex: 't_product_id',\n                key: 't_product_id',\n            },\n            {\n                title: '',\n                dataIndex: 'actions',\n                key: 'actions',\n                render: (value, data) => {\n                    return(\n                        <EditOutlined\n                            onClick={() => {\n                                setDeviceData(data);\n                            }}\n                        />\n                    )\n                }\n            },\n        ]\n    )\n}\n\nexport function categoriesColumns (setCategoryData) {\n    return(\n        [\n            {\n                title: 'ID Категории',\n                dataIndex: 'id',\n                key: 'id',\n            },\n            {\n                title: 'Код',\n                dataIndex: 'code',\n                key: 'code',\n            },\n            {\n                title: 'Название категории',\n                dataIndex: 'title',\n                key: 'title',\n            },\n            {\n                title: 'Дата создания',\n                dataIndex: 'created_at',\n                key: 'created_at',\n                render: (value) => {\n                    if (value) {\n                        return moment(value * 1000).format('LLL')\n                    } else return '-';\n                }\n            },\n            {\n                title: 'Дата обновления',\n                dataIndex: 'updated_at',\n                key: 'updated_at',\n                render: (value) => {\n                    if (value) {\n                        return moment(value * 1000).format('LLL')\n                    } else return '-';\n                }\n            },\n            {\n                title: '',\n                dataIndex: 'actions',\n                key: 'actions',\n                render: (value, data) => {\n                    return(\n                        <EditOutlined\n                            onClick={() => {\n                                setCategoryData(data);\n                            }}\n                        />\n                    )\n                }\n            },\n        ]\n    )\n}\n\n","import React from \"react\";\nimport { Form, Input } from \"antd\";\n\nfunction CategoryFormView (props) {\n    return(\n        <Form\n            form={props.form}\n        >\n            {\n                props.fields.map(field =>\n                    <Form.Item\n                        name={field.name}\n                        rules={[{\n                            required: true,\n                            message: 'Поле обязательно для заполнения'\n                        }]}\n\n                    >\n                        <Input\n                            placeholder={field.placeholder}\n                            size=\"large\"\n                            style={{\n                                marginBottom: '16px'\n                            }}\n                        />\n                    </Form.Item>\n                )\n            }\n        </Form>\n    );\n}\n\nexport default CategoryFormView;\n","import React, { useEffect } from \"react\";\nimport { Button, Modal } from \"antd\";\nimport CategoryFormView from \"./category.form.view\";\n\nfunction CategoryModalView(props) {\n    const {\n        form,\n        categoryData,\n        createCategoryModalVisible,\n        hideCreateCategoryModal,\n        createCategory,\n        categoryFields,\n        edit\n    } = props;\n\n    useEffect(() => {\n        if (categoryData) {\n            form.setFieldsValue(categoryData);\n        } else {\n            form.resetFields();\n        }\n    }, [categoryData]);\n\n    return(\n        <Modal\n            title={edit ? 'Редактирование категории' : 'Создание категории'}\n            visible={createCategoryModalVisible}\n            onCancel={hideCreateCategoryModal}\n            footer={[\n                <Button key=\"back\" onClick={hideCreateCategoryModal}>\n                    Отменить\n                </Button>,\n                <Button key=\"submit\" type=\"primary\" onClick={createCategory}>\n                    {edit ? 'Редактировать': 'Создать'}\n                </Button>,\n            ]}\n        >\n            <CategoryFormView\n                fields={categoryFields}\n                form={form}\n            />\n        </Modal>\n    );\n}\n\nexport default CategoryModalView;\n","import React, {useEffect} from \"react\";\nimport { Form, Input, Select } from \"antd\";\n\nconst { Option } = Select;\n\nfunction DeviceFormView (props) {\n    useEffect(() => {\n        props.getDevicesCategories();\n    }, [props.fields]);\n\n    const renderCategories = () => {\n        return props.categories && props.categories.map(\n            category => <Option value={category.id}>{category.title}</Option>\n        );\n    };\n\n    const saveChanges = (values) => {\n        console.log(values);\n    };\n\n    return(\n        <Form\n            form={props.form}\n            onFinish={saveChanges}\n        >\n            {\n                props.fields.map(field =>\n                    <>\n                        {field.type === 'input' &&\n                            <Form.Item\n                                name={field.name}\n                                rules={field.required ? [{\n                                    required: true,\n                                    message: 'Поле обязательно для заполнения'\n                                }] : []}\n                            >\n                                    <Input\n                                        placeholder={field.placeholder}\n                                        size=\"large\"\n                                        style={{\n                                            marginBottom: '16px'\n                                        }}\n                                    />\n                            </Form.Item>\n                        }\n                        {field.type === 'select' &&\n                            <Form.Item\n                                name=\"category_id\"\n                                label=\"Категория\"\n                            >\n                                <Select\n                                    placeholder={field.placeholder}\n                                    showSearch\n                                    style={{ width: '100%' }}\n                                >\n                                    {renderCategories()}\n                                </Select>\n                            </Form.Item>\n                        }\n                    </>\n                )\n            }\n        </Form>\n    );\n}\n\nexport default DeviceFormView;\n","import React, { useEffect } from \"react\";\nimport { Button, Modal } from \"antd\";\nimport DeviceFormView from \"./device.form.view\";\nimport {updateDevice} from \"../duck/actions\";\n\nfunction DeviceModalView(props) {\n    const {\n        form,\n        deviceData,\n        createDeviceModalVisible,\n        hideCreateDeviceModal,\n        createDevice,\n        updateDevice,\n        deviceFields,\n        edit,\n        getDevicesCategories,\n        categories,\n    } = props;\n\n    useEffect(() => {\n        if (deviceData) {\n            form.setFieldsValue(deviceData);\n        } else {\n            form.resetFields();\n        }\n    }, [deviceData]);\n\n    return(\n        <Modal\n            title={edit ? 'Редактирование устройства' : 'Создание устройства'}\n            visible={createDeviceModalVisible}\n            onCancel={hideCreateDeviceModal}\n            footer={[\n                <Button key=\"back\" onClick={hideCreateDeviceModal}>\n                    Отменить\n                </Button>,\n                <Button key=\"submit\" type=\"primary\" onClick={edit ? updateDevice : createDevice}>\n                    {edit ? 'Редактировать': 'Создать'}\n                </Button>,\n            ]}\n        >\n            <DeviceFormView\n                fields={deviceFields}\n                form={form}\n                getDevicesCategories={getDevicesCategories}\n                categories={categories}\n            />\n        </Modal>\n    );\n}\n\nexport default DeviceModalView;\n","import React, { useEffect, useState } from \"react\";\nimport Wrapper from \"../../components/wrapper\";\nimport {Typography, Table, Button, Form, Menu, Input} from \"antd\";\nimport {devicesColumns, categoriesColumns } from \"./columns\";\nimport CategoryModalView from \"./components/category.modal.view\";\nimport DeviceModalView from \"./components/device.modal.view\";\nimport './devices.less';\n\nconst deviceFields = [\n    {\n        type: 'input',\n        name: 't_product_id',\n        placeholder: 'PID',\n        required: true,\n    },\n    {\n        type: 'input',\n        name: 't_product_name',\n        placeholder: 't_product_name',\n    },\n    {\n        type: 'select',\n        name: 'category_id',\n        placeholder: 'Категория',\n        required: true,\n    },\n];\n\nconst categoryFields = [\n    {\n        name: 'title',\n        placeholder: 'Название категории',\n    },\n    {\n        name: 'icon',\n        placeholder: 'Путь до иконки',\n    },\n    {\n        name: 'code',\n        placeholder: 'Код категории',\n    },\n];\n\nconst { Title } = Typography;\n\nfunction DevicesView (props) {\n    const [form] = Form.useForm();\n    const [createCategoryModalVisible, setCreateCategoryModalVisible] = useState(false);\n    const [createDeviceModalVisible, setCreateDeviceModalVisible] = useState(false);\n    const [devices, setDevices] = useState(null);\n    const [deviceData, setDeviceData] = useState(null);\n    const [currentDeviceId, setCurrentDeviceId] = useState(null);\n    const [categoryData, setCategoryData] = useState(null);\n    const [selectedSection, setSelectedSection] = useState('devices');\n\n    useEffect(() => {\n        props.getDevices();\n        props.getDevicesCategories();\n    }, []);\n\n    useEffect(() => {\n        if (props.devices && props.devices.data && devices === null) {\n            setDevices(props.devices.data);\n        }\n    }, [props.devices]);\n\n    useEffect(() => {\n        if (categoryData) showCreateCategoryModal();\n    }, [categoryData]);\n\n    useEffect(() => {\n        if (deviceData) {\n            showCreateDeviceModal();\n            setCurrentDeviceId(deviceData.id)\n        }\n    }, [deviceData]);\n\n    const showCreateCategoryModal = () => {\n        setCreateCategoryModalVisible(true);\n    };\n\n    const showCreateDeviceModal = () => {\n        setCreateDeviceModalVisible(true);\n    };\n\n    const hideCreateCategoryModal = () => {\n        setCreateCategoryModalVisible(false);\n        setCategoryData(null);\n    };\n\n    const hideCreateDeviceModal = () => {\n        setCreateDeviceModalVisible(false);\n        setDeviceData(null);\n    };\n\n    const handleChangeDevicesSection = (event) => {\n        setSelectedSection(event.key)\n    };\n\n    const filterByPID = (event) => {\n        if (props.devices?.data) {\n            const itemsCopy = Array.from(props.devices.data);\n            const filteredItems = itemsCopy.filter(\n                item =>\n                    item.t_product_id.includes(event.target.value) ||\n                    item.t_product_name.includes(event.target.value) ||\n                    item.category.title.includes(event.target.value)\n            );\n            setDevices(filteredItems);\n        }\n    };\n\n    const createCategory = () => {\n        form.validateFields()\n            .then(() => {\n                props.createCategory(JSON.stringify(form.getFieldsValue()))\n            })\n            .catch((error) => {\n                console.debug(error);\n            });\n    };\n\n    const createDevice = () => {\n        form.validateFields()\n            .then(() => {\n                props.createDevice(JSON.stringify(form.getFieldsValue()))\n            })\n            .catch((error) => {\n                console.debug(error);\n            });\n    };\n\n    const updateDevice = () => {\n        form.validateFields()\n            .then(() => {\n                props.updateDevice(currentDeviceId, JSON.stringify(form.getFieldsValue()))\n            })\n            .catch((error) => {\n                console.debug(error);\n            });\n    };\n\n    return(\n        <Wrapper {...props} tabActive=\"statistic\">\n            <div className=\"action-header\">\n                <Title level={2}>\n                    {selectedSection === 'devices' ?\n                        'Устройства' :\n                        'Категории устройств'\n                    }\n                </Title>\n                <Button\n                    onClick={\n                        selectedSection === 'devices' ?\n                         showCreateDeviceModal : showCreateCategoryModal\n                    }\n                >\n                    {selectedSection === 'devices' ?\n                        'Добавить устройство' :\n                        'Добавить категорию'\n                    }\n                </Button>\n            </div>\n            <Menu\n                onClick={handleChangeDevicesSection}\n                selectedKeys={[selectedSection]}\n                mode=\"horizontal\"\n                style={{ marginBottom: '16px' }}\n            >\n                <Menu.Item\n                    key=\"devices\"\n                >\n                    Устройства\n                </Menu.Item>\n                <Menu.Item\n                    key=\"categories\"\n                >\n                    Категории устройств\n                </Menu.Item>\n            </Menu>\n\n            {\n                selectedSection === 'devices' &&\n                <>\n                    <Input\n                        className=\"devices-search-input\"\n                        placeholder=\"Поиск по PID, категории, имени\"\n                        onInput={filterByPID}\n                    />\n                    <Table\n                        dataSource={devices}\n                        columns={devicesColumns(setDeviceData)}\n                    />\n                    <DeviceModalView\n                        form={form}\n                        deviceData={deviceData}\n                        createDeviceModalVisible={createDeviceModalVisible}\n                        hideCreateDeviceModal={hideCreateDeviceModal}\n                        createDevice={createDevice}\n                        updateDevice={updateDevice}\n                        deviceFields={deviceFields}\n                        getDevicesCategories={props.getDevicesCategories}\n                        categories={props?.categories?.data}\n                        edit={deviceData !== null}\n                    />\n                </>\n            }\n            {\n                selectedSection === 'categories' &&\n                <>\n                    <Table\n                        dataSource={props?.categories?.data}\n                        columns={categoriesColumns(setCategoryData)}\n                    />\n                    <CategoryModalView\n                        form={form}\n                        categoryData={categoryData}\n                        createCategoryModalVisible={createCategoryModalVisible}\n                        hideCreateCategoryModal={hideCreateCategoryModal}\n                        createCategory={createCategory}\n                        categoryFields={categoryFields}\n                        edit={categoryData !== null}\n                    />\n                </>\n            }\n        </Wrapper>\n    );\n}\n\nexport default DevicesView;\n","import { connect } from \"react-redux\";\nimport DevicesView from \"./devices.view\";\n\nimport {\n    createDevice,\n    updateDevice,\n    getDevices,\n    createCategory,\n    getDevicesCategories,\n} from \"./duck/actions\";\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        getDevices: () => {\n            return dispatch(getDevices());\n        },\n\n        createDevice: (deviceData) => {\n            return dispatch(createDevice(deviceData));\n        },\n\n        updateDevice: (id, deviceData) => {\n            return dispatch(updateDevice(id, deviceData));\n        },\n\n        getDevicesCategories: () => {\n            return dispatch(getDevicesCategories());\n        },\n\n        createCategory: (categoryData) => {\n            return dispatch(createCategory(categoryData));\n        },\n    };\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        ...state.devices,\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DevicesView);\n","import React, { useEffect, useState } from \"react\";\nimport Wrapper from \"../../components/wrapper\";\nimport {\n    Input,\n    Menu,\n    Pagination,\n    Button,\n    Modal,\n    message,\n    Form,\n} from \"antd\";\nimport { DeleteOutlined } from '@ant-design/icons';\nimport { cutRegCode } from \"../../helpers\";\nconst { Search } = Input;\n\nfunction WatchesView(props) {\n    const { hash } = props.history.location;\n    const [sendMessageForm] = Form.useForm();\n    const [bindWatchForm] = Form.useForm();\n    const [createWatchForm] = Form.useForm();\n    const [createChildForm] = Form.useForm();\n    const [selectedSection, setSelectedSection] = useState('#users');\n    const [currentUser, setCurrentUser] = useState(null);\n    const [currentChild, setCurrentChild] = useState(null);\n    const [currentWatch, setCurrentWatch] = useState(null);\n    const [resetPasswordModalVisible, setResetPasswordModalVisible] = useState(false);\n    const [bindWatchModalVisible, setBindWatchModalVisible] = useState(false);\n    const [unbindWatchModalVisible, setUnbindWatchModalVisible] = useState(false);\n    const [removeWatchModalVisible, setRemoveWatchModalVisible] = useState(false);\n    const [sendMessageModalVisible, setSendMessageModalVisible] = useState(false);\n    const [createWatchModalVisible, setCreateWatchModalVisible] = useState(false);\n    const [createChildModalVisible, setCreateChildModalVisible] = useState(false);\n    const [removeChildModalVisible, setRemoveChildModalVisible] = useState(false);\n    const [removeUserModalVisible, setRemoveUserModalVisible] = useState(false);\n    const [paginationState, setPaginationState] = useState({\n        page: 1,\n        size: 20,\n        like: '',\n    });\n    const [paginationWatchState, setPaginationWatchState] = useState({\n        page: 1,\n        size: 20,\n        like: '',\n    });\n\n    useEffect(() => {\n        if (hash) {\n            setSelectedSection(hash);\n        }\n    }, []);\n\n    useEffect(() => {\n        if (props.reset_status) {\n            props.reset_status === 'success' ?\n                message.success('Пароль успешно сброшен') :\n                message.error('Произошла ошибка');\n            props.clearState();\n        }\n    }, [props.reset_status]);\n\n    useEffect(() => {\n        if (props.bind_status) {\n            props.bind_status === 'success' ?\n                message.success('Часы успешно привязаны') :\n                message.error('Произошла ошибка');\n            props.getUsers(paginationState.page, paginationState.size, currentUser.email);\n            props.clearState();\n        }\n    }, [props.bind_status]);\n\n    useEffect(() => {\n        if (props.unbind_status) {\n            props.unbind_status === 'success' ?\n                message.success('Часы успешно отвязаны') :\n                message.error('Произошла ошибка');\n            props.clearState();\n            props.getUsers(paginationState.page, paginationState.size, currentUser.email);\n        }\n    }, [props.unbind_status]);\n\n    useEffect(() => {\n        if (props.remove_status) {\n            props.remove_status === 'success' ?\n                message.success('Часы успешно удалены') :\n                message.error('Произошла ошибка');\n            props.clearState();\n            props.getWatches(paginationWatchState.page, paginationWatchState.size, currentWatch.reg_code);\n        }\n    }, [props.remove_status]);\n\n    useEffect(() => {\n        if (props.delete_child_status) {\n            props.delete_child_status === 'success' ?\n                message.success('Часы успешно удалены') :\n                message.error('Произошла ошибка');\n            props.clearState();\n            props.getUsers(paginationState.page, paginationState.size, paginationState.like);\n        }\n    }, [props.delete_child_status]);\n\n    useEffect(() => {\n        if (props.delete_user_status) {\n            props.delete_user_status === 'success' ?\n                message.success('Аккаунт успешно удален') :\n                message.error('Произошла ошибка');\n            props.clearState();\n            props.getUsers(paginationState.page, paginationState.size, paginationState.like);\n        }\n    }, [props.delete_user_status]);\n\n    useEffect(() => {\n        if (props.send_status) {\n            props.send_status === 'success' ?\n                message.success('Письмо успешно отправлено') :\n                message.error('Произошла ошибка');\n            props.clearState();\n        }\n    }, [props.send_status]);\n\n    useEffect(() => {\n        if (props.watches_created) {\n            message.success('Часы успешно созданы');\n            props.clearState();\n        }\n        props.getWatches(paginationWatchState.page, paginationWatchState.size);\n    }, [props.watches_created]);\n\n    useEffect(() => {\n        if (props.child_created) {\n            message.success('Ребенок успешно создан');\n            props.clearState();\n        }\n        props.getUsers(paginationState.page, paginationState.size, paginationState.like);\n    }, [props.child_created]);\n\n\n    useEffect(() => {\n        props.getUsers(paginationState.page, paginationState.size, paginationState.like);\n    }, [paginationState]);\n\n    useEffect(() => {\n        props.getWatches(paginationWatchState.page, paginationWatchState.size, paginationWatchState.like);\n        props.getWatchesOnline();\n    }, [paginationWatchState]);\n\n    const getUserName = (user) => {\n        //return `${user.first_name || ''} ${user.middle_name || ''} ${user.last_name || ''}`\n        return user.first_name;\n    };\n\n    const onPageChange = (page) => {\n        setPaginationState({...paginationState, page: page});\n    };\n\n    const onWatchPageChange = (page) => {\n        setPaginationWatchState({...paginationWatchState, page: page});\n    };\n\n    const handleChangeSection = (tab) => {\n        setSelectedSection(tab.key);\n        props.history.push(tab.key);\n    };\n\n    const searchUser = (event) => {\n        setPaginationState({...paginationState, like: event.target.value})\n    };\n\n    const searchWatch = (value) => {\n        setPaginationWatchState({...paginationWatchState, like: value})\n    };\n\n    const refreshWatchList = () => {\n        props.getWatches(paginationWatchState.page, paginationWatchState.size, paginationState.like);\n        props.getWatchesOnline();\n    };\n\n    const resetPassword = () => {\n        if (currentUser) {\n            props.resetPassword(currentUser.email);\n            setResetPasswordModalVisible(false);\n        }\n    };\n\n    const sendMessage = () => {\n        const mailData = sendMessageForm.getFieldsValue();\n        mailData.email = currentUser.email;\n        props.sendMailToUser(currentUser.email, mailData.subject, mailData.message);\n        setSendMessageModalVisible(false);\n    };\n\n    const bindWatch = () => {\n        const regCode = bindWatchForm.getFieldValue('reg_code');\n        props.bindWatch(cutRegCode(regCode), currentChild.id);\n        setBindWatchModalVisible(false);\n    };\n\n    const unbindWatch = () => {\n        props.unbindWatch(currentWatch.reg_code, currentChild.id);\n        setUnbindWatchModalVisible(false);\n    };\n\n    const removeWatch = () => {\n        props.removeWatch(currentWatch.reg_code);\n        setRemoveWatchModalVisible(false);\n    };\n\n    const removeChild = () => {\n        props.deleteChild(currentChild.id);\n        setRemoveChildModalVisible(false);\n    };\n\n    const removeUser = () => {\n        props.deleteUser(currentUser.id);\n        setRemoveUserModalVisible(false);\n    };\n\n    const createWatch = () => {\n        const watchData = createWatchForm.getFieldsValue();\n        props.createWatch(watchData);\n        setCreateWatchModalVisible(false);\n    };\n\n    const createChild = () => {\n        const childData = createChildForm.getFieldsValue();\n        props.createChild(currentUser.id, childData);\n        setCreateChildModalVisible(false);\n    };\n\n    return(\n        <Wrapper {...props} tabActive=\"watches\">\n            <Menu\n                onClick={handleChangeSection}\n                selectedKeys={[selectedSection]}\n                mode=\"horizontal\"\n                style={{ marginBottom: '16px' }}\n            >\n                <Menu.Item\n                    key=\"#users\"\n                >\n                    Пользователи\n                </Menu.Item>\n                <Menu.Item\n                    key=\"#watches\"\n                >\n                    Часы\n                </Menu.Item>\n            </Menu>\n\n            {\n                selectedSection === '#users' &&\n                    <>\n                        <Input\n                            style={{\n                                width: '350px'\n                            }}\n                            size=\"large\"\n                            placeholder=\"Поиск пользователей по email\"\n                            onInput={searchUser}\n                        />\n                        {\n                            props.watches?.meta?.totalItems &&\n                            <h2\n                                style={{ margin: '20px 0' }}\n                            >\n                                Всего зарегистрировано пользователей - <b>{props.watches?.meta?.totalItems}</b>\n                            </h2>\n                        }\n                        <ul className=\"users-list\">\n                            {\n                                props.watch_users && props.watch_users.items &&\n                                props.watch_users.items.map(user =>\n                                    <li className=\"users-list__card watch-user\">\n                                        <div>\n                                            <h2>Аккаунт</h2>\n                                            <p>Имя: <b>{getUserName(user)}</b></p>\n                                            <p>Email: <b>{user.email}</b></p>\n                                        </div>\n\n                                        <div className=\"watch-user-actions\">\n                                            <Button\n                                                type=\"primary\"\n                                                onClick={() => {\n                                                    setCurrentUser(user);\n                                                    setResetPasswordModalVisible(true);\n                                                }}\n                                            >\n                                                Сбросить пароль\n                                            </Button>\n                                            <Button\n                                                type=\"primary\"\n                                                onClick={() => {\n                                                    setCurrentUser(user);\n                                                    setSendMessageModalVisible(true);\n                                                }}\n                                            >\n                                                Отправить письмо на email\n                                            </Button>\n                                            <Button\n                                                type=\"primary\"\n                                                onClick={() => {\n                                                    setCreateChildModalVisible(true);\n                                                    setCurrentUser(user);\n                                                }}\n                                            >\n                                                Добавить ребенка\n                                            </Button>\n                                        </div>\n\n                                        {user.children && user.children.length > 0 &&\n                                            <div\n                                                style={{\n                                                    position: 'relative'\n                                                }}\n                                            >\n                                                <h2>Дети</h2>\n                                                <ul className=\"children-list\">\n                                                    {user.children.map(child =>\n                                                        <li style={{ position: 'relative'}}>\n                                                            <p>Имя ребенка: <b>{child.name}</b></p>\n                                                            {child.watch &&\n                                                                <>\n                                                                    <p> Часы: <b>{child.watch.name || 'noName'}</b></p>\n                                                                    <p> Код: <b>{child.watch.reg_code}</b></p>\n\n                                                                    <div>\n                                                                        <Button\n                                                                            type=\"primary\"\n                                                                            onClick={() => {\n                                                                                setCurrentUser(user);\n                                                                                setCurrentWatch(child.watch);\n                                                                                setCurrentChild(child);\n                                                                                setUnbindWatchModalVisible(true);\n                                                                            }}\n                                                                        >\n                                                                            Отвязать часы\n                                                                        </Button>\n                                                                    </div>\n                                                                </>\n                                                            }\n                                                            {!child.watch &&\n                                                                <>\n                                                                    <p>Часы не привязаны</p>\n                                                                    <Button\n                                                                        type=\"primary\"\n                                                                        onClick={() => {\n                                                                            setCurrentUser(user);\n                                                                            setCurrentChild(child);\n                                                                            setBindWatchModalVisible(true);\n                                                                        }}\n                                                                        >\n                                                                        Привязать часы\n                                                                    </Button>\n                                                                </>\n                                                            }\n                                                            <DeleteOutlined\n                                                                className=\"delete-btn\"\n                                                                onClick={() => {\n                                                                    setCurrentChild(child);\n                                                                    setRemoveChildModalVisible(true);\n                                                                }}\n                                                            />\n                                                        </li>\n                                                    )}\n                                                </ul>\n                                            </div>\n                                        }\n                                        <DeleteOutlined\n                                            className=\"delete-btn\"\n                                            onClick={() => {\n                                                setCurrentUser(user);\n                                                setRemoveUserModalVisible(true);\n                                            }}\n                                        />\n                                    </li>\n                                )\n                            }\n                        </ul>\n                        <Pagination\n                            defaultCurrent={1}\n                            defaultPageSize={20}\n                            total={props.watch_users?.meta?.totalItems}\n                            onChange={onPageChange}\n                        />\n                    </>\n            }\n            {\n                selectedSection === '#watches' &&\n                    <>\n                        <Search\n                            onSearch={searchWatch}\n                            style={{\n                                width: '350px'\n                            }}\n                            size=\"large\"\n                            placeholder=\"Поиск часов по коду\"\n                            allowClear\n                        />\n                        {\n                            props.watches_online &&\n                            <h2\n                                style={{ margin: '20px 0' }}\n                            >\n                                Всего онлайн - <b>{props.watches_online?.length}</b>\n                            </h2>\n                        }\n                        <Button onClick={refreshWatchList}>Обновить данные о часах</Button>\n                        <Button\n                            type=\"primary\"\n                            onClick={() => {\n                                setCreateWatchModalVisible(true);\n                            }}\n                            style={{ marginLeft: '10px' }}\n                        >\n                            Создать часы\n                        </Button>\n                        <ul className=\"watches-list\">\n                            {\n                                props.watches && props.watches.items &&\n                                props.watches.items.map(watch =>\n                                    <li className=\"users-list__card watch-user\">\n                                        <p>Имя: <b>{watch.name || 'NoName'}</b></p>\n                                        <p>Код: <b>{watch.reg_code}</b></p>\n                                        <p\n                                            className={`watch-state ${watch.is_online ? 'online' : 'offline'}`}\n                                        >\n                                            {watch.is_online ? 'online' : 'offline'}\n                                        </p>\n                                        <DeleteOutlined\n                                            className=\"watch-delete-btn\"\n                                            onClick={() => {\n                                                setCurrentWatch(watch);\n                                                setRemoveWatchModalVisible(true);\n                                            }}\n                                        />\n                                    </li>\n                                )\n                            }\n                        </ul>\n                        <Pagination\n                            defaultCurrent={1}\n                            defaultPageSize={20}\n                            total={props.watches?.meta?.totalItems}\n                            onChange={onWatchPageChange}\n                        />\n                    </>\n            }\n\n            <Modal\n                title={`Сброс пароля для ${currentUser?.email}`}\n                visible={resetPasswordModalVisible}\n                onCancel={() => {\n                    setResetPasswordModalVisible(false);\n                }}\n                footer={[\n                    <Button\n                        type=\"primary\"\n                        key=\"submit\"\n                        onClick={resetPassword}\n                        danger\n                    >\n                        Сбросить\n                    </Button>,\n                    <Button key=\"back\" onClick={() => {\n                        setResetPasswordModalVisible(false);\n                    }}>\n                        Отменить\n                    </Button>,\n                ]}\n            >\n                <p>Подтвердите сброс пароля</p>\n            </Modal>\n            <Modal\n                title={`Отправка сообщения для ${currentUser?.email}`}\n                visible={sendMessageModalVisible}\n                onCancel={() => {\n                    setSendMessageModalVisible(false);\n                }}\n                footer={[\n                    <Button\n                        key=\"submit\"\n                        type=\"primary\"\n                        onClick={sendMessage}\n                    >\n                        Отправить\n                    </Button>,\n                    <Button\n                        key=\"back\"\n                        onClick={() => {\n                        setSendMessageModalVisible(false);\n                    }}>\n                        Отменить\n                    </Button>,\n                ]}\n            >\n                <Form\n                    form={sendMessageForm}\n                >\n                    <Form.Item name=\"subject\" label=\"Тема письма\" rules={[{ required: true }]}>\n                        <Input />\n                    </Form.Item>\n                    <Form.Item name=\"message\" label=\"Текст письма\" rules={[{ required: true }]}>\n                        <Input.TextArea />\n                    </Form.Item>\n                </Form>\n            </Modal>\n            <Modal\n                title={`Привязка часов`}\n                visible={bindWatchModalVisible}\n                onCancel={() => {\n                    setBindWatchModalVisible(false);\n                }}\n                footer={[\n                    <Button\n                        type=\"primary\"\n                        key=\"submit\"\n                        onClick={bindWatch}\n                    >\n                        Привязать\n                    </Button>,\n                    <Button key=\"back\" onClick={() => {\n                        setBindWatchModalVisible(false);\n                    }}>\n                        Отменить\n                    </Button>,\n                ]}\n            >\n                <Form\n                    form={bindWatchForm}\n                >\n                    <Form.Item name=\"reg_code\" label=\"Рег код(полный)\" rules={[{ required: true }]}>\n                        <Input />\n                    </Form.Item>\n                </Form>\n            </Modal>\n            <Modal\n                title={`Отвязка часов`}\n                visible={unbindWatchModalVisible}\n                onCancel={() => {\n                    setUnbindWatchModalVisible(false);\n                }}\n                footer={[\n                    <Button\n                        type=\"primary\"\n                        key=\"submit\"\n                        onClick={unbindWatch}\n                    >\n                        Отвязать\n                    </Button>,\n                    <Button key=\"back\" onClick={() => {\n                        setUnbindWatchModalVisible(false);\n                    }}>\n                        Отменить\n                    </Button>,\n                ]}\n            >\n                <p>Подтвердите отвязку часов</p>\n            </Modal>\n            <Modal\n                title={`Удаление часов`}\n                visible={removeWatchModalVisible}\n                onCancel={() => {\n                    setRemoveWatchModalVisible(false);\n                }}\n                footer={[\n                    <Button\n                        danger\n                        type=\"primary\"\n                        key=\"submit\"\n                        onClick={removeWatch}\n                    >\n                        Удалить\n                    </Button>,\n                    <Button key=\"back\" onClick={() => {\n                        setRemoveWatchModalVisible(false);\n                    }}>\n                        Отменить\n                    </Button>,\n                ]}\n            >\n                <p>Подтвердите удаление часов</p>\n            </Modal>\n            <Modal\n                title={`Создание часов`}\n                visible={createWatchModalVisible}\n                onCancel={() => {\n                    setCreateWatchModalVisible(false);\n                }}\n                footer={[\n                    <Button\n                        type=\"primary\"\n                        key=\"submit\"\n                        onClick={createWatch}\n                    >\n                        Создать\n                    </Button>,\n                    <Button key=\"back\" onClick={() => {\n                        setCreateWatchModalVisible(false);\n                    }}>\n                        Отменить\n                    </Button>,\n                ]}\n            >\n                <Form\n                    form={createWatchForm}\n                >\n                    <Form.Item name=\"reg_code\" label=\"Рег код(полный)\" rules={[{ required: true }]}>\n                        <Input />\n                    </Form.Item>\n                    <Form.Item name=\"name\" label=\"Название часов\" rules={[{ required: true }]}>\n                        <Input />\n                    </Form.Item>\n                </Form>\n            </Modal>\n            <Modal\n                title={`Создание ребенка`}\n                visible={createChildModalVisible}\n                onCancel={() => {\n                    setCreateChildModalVisible(false);\n                }}\n                footer={[\n                    <Button\n                        type=\"primary\"\n                        key=\"submit\"\n                        onClick={createChild}\n                    >\n                        Создать\n                    </Button>,\n                    <Button key=\"back\" onClick={() => {\n                        setCreateChildModalVisible(false);\n                    }}>\n                        Отменить\n                    </Button>,\n                ]}\n            >\n                <Form\n                    form={createChildForm}\n                >\n                    <Form.Item name=\"name\" label=\"Имя ребенка\" rules={[{ required: true }]}>\n                        <Input />\n                    </Form.Item>\n                    <Form.Item name=\"age\" label=\"Возраст ребека\" rules={[{ required: true }]}>\n                        <Input />\n                    </Form.Item>\n                </Form>\n            </Modal>\n            <Modal\n                title={`Удаление ребенка`}\n                visible={removeChildModalVisible}\n                onCancel={() => {\n                    setRemoveChildModalVisible(false);\n                }}\n                footer={[\n                    <Button\n                        danger\n                        type=\"primary\"\n                        key=\"submit\"\n                        onClick={removeChild}\n                    >\n                        Удалить\n                    </Button>,\n                    <Button key=\"back\" onClick={() => {\n                        setRemoveChildModalVisible(false);\n                    }}>\n                        Отменить\n                    </Button>,\n                ]}\n            >\n                <p>Подтвердите удаление ребенка</p>\n            </Modal>\n            <Modal\n                title={`Удаление аккаунта`}\n                visible={removeUserModalVisible}\n                onCancel={() => {\n                    setRemoveUserModalVisible(false);\n                }}\n                footer={[\n                    <Button\n                        danger\n                        type=\"primary\"\n                        key=\"submit\"\n                        onClick={removeUser}\n                    >\n                        Удалить\n                    </Button>,\n                    <Button key=\"back\" onClick={() => {\n                        setRemoveUserModalVisible(false);\n                    }}>\n                        Отменить\n                    </Button>,\n                ]}\n            >\n                <p>Подтвердите удаление аккаунта</p>\n            </Modal>\n        </Wrapper>\n    );\n}\n\nexport default WatchesView;\n","export const cutRegCode = (code) => {\n    const regCodeCharArray = code.split('');\n    if (\n        (regCodeCharArray[1] === '4' && regCodeCharArray[2] === '2') ||\n        (regCodeCharArray[1] === '2' && regCodeCharArray[2] === '3')\n    ) {\n        delete regCodeCharArray[0];\n        delete regCodeCharArray[3];\n        delete regCodeCharArray[6];\n        delete regCodeCharArray[10];\n        delete regCodeCharArray[14];\n    } else {\n        delete regCodeCharArray[0];\n        delete regCodeCharArray[5];\n        delete regCodeCharArray[6];\n        delete regCodeCharArray[11];\n        delete regCodeCharArray[14];\n    }\n    return regCodeCharArray.join('');\n};\n","import http from '../../../service/axiosCustom';\nimport { API_WATCH_URL } from \"../../../constants\";\n\nimport {\n    GET_WATCHES_SUCCESS,\n    GET_WATCHES_FAILED,\n    GET_WATCH_USERS_FAILED,\n    GET_WATCH_USERS_SUCCESS,\n    RESET_PASSWORD_SUCCESS,\n    RESET_PASSWORD_FAILED,\n    SEND_MESSAGE_SUCCESS,\n    SEND_MESSAGE_FAILED,\n    WATCH_BIND_SUCCESS,\n    WATCH_BIND_FAILED,\n    WATCH_UNBIND_SUCCESS,\n    WATCH_UNBIND_FAILED,\n    REMOVE_WATCH_SUCCESS,\n    REMOVE_WATCH_FAILED,\n    GET_WATCH_ONLINE_SUCCESS,\n    GET_WATCH_ONLINE_FAILED,\n    CREATE_WATCH_SUCCESS,\n    CREATE_WATCH_FAILED,\n    CREATE_CHILD_SUCCESS,\n    CREATE_CHILD_FAILED,\n    DELETE_CHILD_SUCCESS,\n    DELETE_CHILD_FAILED,\n    DELETE_USER_SUCCESS,\n    DELETE_USER_FAILED,\n    CLEAR_STATE\n} from \"./types\";\n\nexport const getWatchesSuccess = (data) => {\n    return {\n        type: GET_WATCHES_SUCCESS,\n        payload: data\n    }\n};\n\nexport const getWatchesFailed = (error) => {\n    return {\n        type: GET_WATCHES_FAILED,\n        payload: error\n    }\n};\n\nexport const getUsersSuccess = (data) => {\n    return {\n        type: GET_WATCH_USERS_SUCCESS,\n        payload: data\n    }\n};\n\nexport const getUsersFailed = (error) => {\n    return {\n        type: GET_WATCH_USERS_FAILED,\n        payload: error\n    }\n};\n\n\nexport const resetPasswordSuccess = (data) => {\n    return {\n        type: RESET_PASSWORD_SUCCESS,\n        payload: data\n    }\n};\n\nexport const resetPasswordFailed = (error) => {\n    return {\n        type: RESET_PASSWORD_FAILED,\n        payload: error\n    }\n};\n\nexport const sendMessageSuccess = (data) => {\n    return {\n        type: SEND_MESSAGE_SUCCESS,\n        payload: data\n    }\n};\n\nexport const sendMessageFailed = (error) => {\n    return {\n        type: SEND_MESSAGE_FAILED,\n        payload: error\n    }\n};\n\nexport const watchBindSuccess = (data) => {\n    return {\n        type: WATCH_BIND_SUCCESS,\n        payload: data\n    }\n};\n\nexport const watchBindFailed = (error) => {\n    return {\n        type: WATCH_BIND_FAILED,\n        payload: error\n    }\n};\n\nexport const watchUnbindSuccess = (data) => {\n    return {\n        type: WATCH_UNBIND_SUCCESS,\n        payload: data\n    }\n};\n\nexport const watchUnbindFailed = (error) => {\n    return {\n        type: WATCH_UNBIND_FAILED,\n        payload: error\n    }\n};\n\nexport const removeWatchSuccess = (data) => {\n    return {\n        type: REMOVE_WATCH_SUCCESS,\n        payload: data\n    }\n};\n\nexport const removeWatchFailed = (error) => {\n    return {\n        type: REMOVE_WATCH_FAILED,\n        payload: error\n    }\n};\n\nexport const getWatchOnlineSuccess = (data) => {\n    return {\n        type: GET_WATCH_ONLINE_SUCCESS,\n        payload: data\n    }\n};\n\nexport const getWatchOnlineFailed = (error) => {\n    return {\n        type: GET_WATCH_ONLINE_FAILED,\n        payload: error\n    }\n};\n\nexport const createWatchSuccess = (data) => {\n    return {\n        type: CREATE_WATCH_SUCCESS,\n        payload: data\n    }\n};\n\nexport const createWatchFailed = (error) => {\n    return {\n        type: CREATE_WATCH_FAILED,\n        payload: error\n    }\n};\n\nexport const createChildSuccess = (data) => {\n    return {\n        type: CREATE_CHILD_SUCCESS,\n        payload: data\n    }\n};\n\nexport const createChildFailed = (error) => {\n    return {\n        type: CREATE_CHILD_FAILED,\n        payload: error\n    }\n};\n\nexport const deleteChildSuccess = (data) => {\n    return {\n        type: DELETE_CHILD_SUCCESS,\n        payload: data\n    }\n};\n\nexport const deleteChildFailed = (error) => {\n    return {\n        type: DELETE_CHILD_FAILED,\n        payload: error\n    }\n};\n\nexport const deleteUserSuccess = (data) => {\n    return {\n        type: DELETE_USER_SUCCESS,\n        payload: data\n    }\n};\n\nexport const deleteUserFailed = (error) => {\n    return {\n        type: DELETE_USER_FAILED,\n        payload: error\n    }\n};\n\nexport const clearState = () => {\n    return {\n        type: CLEAR_STATE,\n    }\n};\n\n\nexport const getWatches = (page = 1, limit = 10, like= '') => {\n    return (dispatch) => {\n        return http\n            .get(`${API_WATCH_URL}/watch?page=${page}&limit=${limit}${like ? `&like=${like}` : '' }`)\n            .then((response) => {\n                dispatch(getWatchesSuccess(response.data))\n            })\n            .catch(() => {\n                dispatch(getWatchesFailed());\n            });\n    };\n};\n\nexport const getUsers = (page = 1, limit = 10, like = '') => {\n    return (dispatch) => {\n        return http\n            .get(`${API_WATCH_URL}/users?page=${page}&limit=${limit}&like=${like}`)\n            .then((response) => {\n                dispatch(getUsersSuccess(response.data))\n            })\n            .catch(() => {\n                dispatch(getUsersFailed());\n            });\n    };\n};\n\n\nexport const resetPassword = (email) => {\n    return (dispatch) => {\n        return http\n            .post(`${API_WATCH_URL}/auth/send-pass-to-email`, {email: email})\n            .then((response) => {\n                dispatch(resetPasswordSuccess(response.data))\n            })\n            .catch(() => {\n                dispatch(resetPasswordFailed());\n            });\n    };\n};\n\nexport const sendMailToUser = (email, subject, message) => {\n    return (dispatch) => {\n        return http\n            .post(`${API_WATCH_URL}/auth/send-message-to-email`,\n                {email: email,\n                    subject: subject,\n                    message: message\n                })\n            .then((response) => {\n                dispatch(sendMessageSuccess(response.data))\n            })\n            .catch(() => {\n                dispatch(sendMessageFailed());\n            });\n    };\n};\n\nexport const bindWatch = (reg_code, child_id) => {\n    return (dispatch) => {\n        return http\n            .patch(`${API_WATCH_URL}/watch/bind/${child_id}/${reg_code}`)\n            .then((response) => {\n                dispatch(watchBindSuccess(response.data))\n            })\n            .catch(() => {\n                dispatch(watchBindFailed());\n            });\n    };\n};\n\nexport const unbindWatch = (reg_code, child_id) => {\n    return (dispatch) => {\n        return http\n            .patch(`${API_WATCH_URL}/watch/unbind/${child_id}/${reg_code}`)\n            .then((response) => {\n                dispatch(watchUnbindSuccess(response.data))\n            })\n            .catch(() => {\n                dispatch(watchUnbindFailed());\n            });\n    };\n};\n\nexport const removeWatch = (reg_code) => {\n    return (dispatch) => {\n        return http\n            .delete(`${API_WATCH_URL}/watch/remove/${reg_code}`)\n            .then((response) => {\n                dispatch(removeWatchSuccess(response.data))\n            })\n            .catch(() => {\n                dispatch(removeWatchFailed());\n            });\n    };\n};\n\nexport const getWatchesOnline = () => {\n    return (dispatch) => {\n        return http\n            .get(`${API_WATCH_URL}/watch/watch/is_online`)\n            .then((response) => {\n                dispatch(getWatchOnlineSuccess(response.data))\n            })\n            .catch(() => {\n                dispatch(getWatchOnlineFailed());\n            });\n    };\n};\n\nexport const createWatch = (data) => {\n    data.is_online = true;\n    return (dispatch) => {\n        return http\n            .post(`${API_WATCH_URL}/watch/create`, data)\n            .then((response) => {\n                dispatch(createWatchSuccess(response.data))\n            })\n            .catch(() => {\n                dispatch(createWatchFailed());\n            });\n    };\n};\n\nexport const createChild = (parentId, data) => {\n    return (dispatch) => {\n        return http\n            .post(`${API_WATCH_URL}/children/${parentId}`, data)\n            .then((response) => {\n                dispatch(createChildSuccess(response.data))\n            })\n            .catch(() => {\n                dispatch(createChildFailed());\n            });\n    };\n};\n\nexport const deleteChild = (id) => {\n    return (dispatch) => {\n        return http\n            .delete(`${API_WATCH_URL}/children/${id}`)\n            .then((response) => {\n                dispatch(deleteChildSuccess(response.data))\n            })\n            .catch(() => {\n                dispatch(deleteChildFailed());\n            });\n    };\n};\n\nexport const deleteUser = (id) => {\n    return (dispatch) => {\n        return http\n            .delete(`${API_WATCH_URL}/users/${id}`)\n            .then((response) => {\n                dispatch(deleteUserSuccess(response.data))\n            })\n            .catch(() => {\n                dispatch(deleteUserFailed());\n            });\n    };\n};\n","import { connect } from \"react-redux\";\nimport WatchesView from \"./watches.view\";\n\nimport {\n    getWatches,\n    getUsers,\n    resetPassword,\n    sendMailToUser,\n    bindWatch,\n    unbindWatch,\n    removeWatch,\n    getWatchesOnline,\n    clearState,\n    createWatch,\n    createChild,\n    deleteChild,\n    deleteUser\n} from \"./duck/actions\";\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        getWatches: (page, limit, like) => {\n            return dispatch(getWatches(page, limit, like));\n        },\n\n        getUsers: (page, limit, like) => {\n            return dispatch(getUsers(page, limit, like));\n        },\n\n        resetPassword: (email) => {\n            return dispatch(resetPassword(email));\n        },\n\n        sendMailToUser: (email, subject, message) => {\n            return dispatch(sendMailToUser(email, subject, message));\n        },\n\n        bindWatch: (reg_code, child_id) => {\n            return dispatch(bindWatch(reg_code, child_id));\n        },\n\n        unbindWatch: (reg_code, child_id) => {\n            return dispatch(unbindWatch(reg_code, child_id));\n        },\n\n        removeWatch: (reg_code) => {\n            return dispatch(removeWatch(reg_code));\n        },\n\n        getWatchesOnline: () => {\n            return dispatch(getWatchesOnline());\n        },\n\n        createWatch: (data) => {\n            return dispatch(createWatch(data));\n        },\n\n        createChild: (parentId, data) => {\n            return dispatch(createChild(parentId, data));\n        },\n\n        deleteChild: (id) => {\n            return dispatch(deleteChild(id));\n        },\n\n        deleteUser: (id) => {\n            return dispatch(deleteUser(id));\n        },\n\n        clearState: () => {\n            return dispatch(clearState());\n        },\n    };\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        ...state.watches,\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(WatchesView);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\nimport PrivateRoute from './private';\nimport './index.less';\n\nimport store from './store';\nimport LoginView from './pages/login';\nimport UsersView from './pages/users';\nimport StatisticView from './pages/statistic';\n\nimport moment from 'moment';\nimport 'moment/locale/ru';\nimport DevicesView from \"./pages/devices\";\nimport WatchesView from \"./pages/watches\";\nimport { _getClient } from \"./service\";\n\nmoment().locale('ru');\n\nReactDOM.render(\n    <Provider store={store}>\n        <BrowserRouter>\n            <Switch>\n                <Route path=\"/login\" component={LoginView} />\n                <PrivateRoute path=\"/devices\" component={DevicesView} />\n                <PrivateRoute path=\"/statistic\" component={StatisticView}/>\n                <Route path=\"/watches\" component={WatchesView} />\n                <PrivateRoute path=\"/\" component={_getClient() === 'apps@defacto-group.ru' ? WatchesView : UsersView} />\n            </Switch>\n        </BrowserRouter>\n    </Provider>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}